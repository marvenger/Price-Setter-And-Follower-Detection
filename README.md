# Price-Setter-And-Follower-Detection
Estimation of confidence measures for each bus correpsonding to the bus it follows the most and the bus which it is followed by the most


Price Setter and Follower

The problem statement for this project deals with the REDBUS’ dataset. The dataset consists of the different buses with their travel details in the increasing order of the timeline.
There are a total of 117 unique buses. For each traveling journey the prices charged for different types of seats available in each bus are present. The problem statement is to estimate the confidence measures for each bus corresponding to the bus it is most followed by and the bus which it follows the most.

The problem here deals with the data analytics task. Firstly, I installed all the dependencies and imported the required libraries. I imported the data and began the analysis of the data. The data here consists of the features ‘The Bus Ids’ for the different buses, ‘Type 1 Seat Fares’ and ‘Type 2 Seat Fares’ that depict the prices charged for the two categories of seats available in the buses and the feature of traveling date and time.

For each type of seat feature, there are 4 comma separated values of the charged prices as per the 4 different types of seats which are front, back, lower and upper.

Then, I performed the data preprocessing task. Firstly, I removed the rows for which all the 4 values of the prices charged are null for both the categories of the seat. Then, I created two sub-datas from the data corresponding to the two categories of seats, one data consisting of the fares based on the type 1 seat and the other consisting of the fares based on the type 2 seat. Next, I created 4 sub-datas for each of the 2 data based on the 4 values of the prices charged as per the different types of seats. So, finally 8 sub-datas are extracted, each of them containing the features ‘Bus Ids’ and the ‘Prices’.

Each of the sub-datas is analyzed. The prices in each data are in the increasing order of the timeline. The buses present earlier will have the high probability that the other buses follow them and the buses present at the end will have the high probability of following other buses.
For each data, I performed K - Means Clustering on the price feature with the Silhouette Analysis to find the optimal number of clusters. The buses having the prices close to each other will have the high probabilities of following each other and being followed by each other. So, the clusters are meant to estimate such groups. Now, all the clusters obtained for each of the data are extracted individually and analyzed separately.

For each clustered data a rank measure for each bus is decided based on their occurrences. The bus at the highest rank is assigned the measure of the total length of the data and the bus at the lowest rank is assigned the measure of 1. I created dictionaries for each of the data with the keys as the unique ‘bus id’ and the values as the mean rank measures corresponding to the ‘bus_id’. As there may be more than one occurrences of the same bus in each data, thus, the mean of the different rank measures assigned to them are taken. Then, a nested dictionary is created for each of the dictionaries such that the primary key is a particular ‘bus_id’ and the secondary keys denote the other ‘bus_id’ present in the data and the values depict the differences in the rank measures corresponding to each ‘bus_id’. Finally using all the clustered data various nested dictionaries are derived. Using all these dictionaries for each pair, the values may be more than 1 as they can come from any of the total clustered data extracted, so, the mean of the values are considered as the value. The values here may be negative or positive as the differences are considered. Using the ‘min_max_scale’ the values are scaled to 0 and 1. The value close to 0 depicts the bus present as the primary key has a very high probability of following the bus present as the secondary key. If the value is close to 1, it depicts that the bus present as the primary key has a very high probability of being followed by the bus present as the secondary key. At last for every bus, the other bus with the highest value and the lowest value are extracted, which are the bus that follows it the most and the bus that it follows the most respectively. The confidence measure for the lowest value is 1 minus the value and the confidence measure for the highest value is the value itself. Thus, we get the required confidence measures.


